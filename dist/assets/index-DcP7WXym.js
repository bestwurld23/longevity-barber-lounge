(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();class u{constructor(){this.currentLanguage="en",this.translations={},this.fallbackLanguage="en"}async init(){await this.loadTranslations();const t=localStorage.getItem("longevity-barber-lang"),e=navigator.language.split("-")[0],s=t||(this.translations[e]?e:this.fallbackLanguage);await this.setLanguage(s)}async loadTranslations(){this.translations.en={title:"Longevity Barber Lounge - Premium Barbershop in Chicago",description:"Professional barbershop services in Chicago. Expert cuts, beard grooming, and traditional barbering. Book your appointment today.",home:"Home",services:"Services",about:"About",contact:"Contact",book:"Book Now",heroTitle:"Premium Barbershop Experience",heroSubtitle:"Expert cuts, traditional grooming, modern style. Located in the heart of Chicago.",heroBook:"Book Appointment",services:"View Services",ourServices:"Our Services",servicesSubtitle:"Professional grooming services tailored to your style",ourServices:"Our Services",servicesSubtitle:"Professional grooming services tailored to your style",aboutTitle:"About Longevity Barber Lounge",aboutDescription:"With years of experience in traditional and modern barbering, we provide exceptional grooming services in a welcoming atmosphere. Our skilled barbers combine classic techniques with contemporary styles to give you the perfect look.",expertBarbers:"Expert Barbers",expertBarbersDesc:"Skilled professionals with years of experience",premiumProducts:"Premium Products",premiumProductsDesc:"High-quality grooming products and tools",relaxingEnvironment:"Relaxing Environment",relaxingEnvironmentDesc:"Comfortable and welcoming atmosphere",visitUs:"Visit Us",address:"Address",hours:"Hours",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday",closed:"Closed",phone:"Phone",findUs:"Find Us",directions:"Located at 6801 S Ashland Ave in Chicago",bookingTitle:"Book Your Appointment",fullName:"Full Name",email:"Email",phoneNumber:"Phone",service:"Service",selectService:"Select a service",date:"Date",time:"Time",selectTime:"Select a time",notes:"Additional Notes (Optional)",cancel:"Cancel",confirm:"Book Appointment",appointmentBooked:"Appointment Booked!",confirmationMessage:"Your appointment has been successfully booked. You will receive a confirmation email shortly.",close:"Close",tagline:"Premium barbershop experience in Chicago",quickLinks:"Quick Links",rights:"All rights reserved."},this.translations.es={title:"Longevity Barber Lounge - Barbería Premium en Chicago",description:"Servicios profesionales de barbería en Chicago. Cortes expertos, arreglo de barba y barbería tradicional. Reserve su cita hoy.",home:"Inicio",services:"Servicios",about:"Acerca de",contact:"Contacto",book:"Reservar",heroTitle:"Experiencia Premium de Barbería",heroSubtitle:"Cortes expertos, arreglo tradicional, estilo moderno. Ubicado en el corazón de Chicago.",heroBook:"Reservar Cita",services:"Ver Servicios",ourServices:"Nuestros Servicios",servicesSubtitle:"Servicios profesionales de arreglo personal adaptados a tu estilo",ourServices:"Nuestros Servicios",servicesSubtitle:"Servicios profesionales de arreglo personal adaptados a tu estilo",aboutTitle:"Acerca de Longevity Barber Lounge",aboutDescription:"Con años de experiencia en barbería tradicional y moderna, brindamos servicios excepcionales de arreglo personal en un ambiente acogedor. Nuestros barberos expertos combinan técnicas clásicas con estilos contemporáneos para darte el look perfecto.",expertBarbers:"Barberos Expertos",expertBarbersDesc:"Profesionales capacitados con años de experiencia",premiumProducts:"Productos Premium",premiumProductsDesc:"Productos y herramientas de arreglo personal de alta calidad",relaxingEnvironment:"Ambiente Relajante",relaxingEnvironmentDesc:"Atmósfera cómoda y acogedora",visitUs:"Visítanos",address:"Dirección",hours:"Horarios",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo",closed:"Cerrado",phone:"Teléfono",findUs:"Encuéntranos",directions:"Ubicado en 6801 S Ashland Ave en Chicago",bookingTitle:"Reserva tu Cita",fullName:"Nombre Completo",email:"Correo Electrónico",phoneNumber:"Teléfono",service:"Servicio",selectService:"Selecciona un servicio",date:"Fecha",time:"Hora",selectTime:"Selecciona una hora",notes:"Notas Adicionales (Opcional)",cancel:"Cancelar",confirm:"Reservar Cita",appointmentBooked:"¡Cita Reservada!",confirmationMessage:"Tu cita ha sido reservada exitosamente. Recibirás un correo de confirmación en breve.",close:"Cerrar",tagline:"Experiencia premium de barbería en Chicago",quickLinks:"Enlaces Rápidos",rights:"Todos los derechos reservados."}}async setLanguage(t){this.translations[t]||(t=this.fallbackLanguage),this.currentLanguage=t,localStorage.setItem("longevity-barber-lang",t),document.documentElement.lang=t,this.updateTranslations();const e=document.getElementById("currentLang");e&&(e.textContent=t.toUpperCase()),document.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:t}}))}updateTranslations(){document.querySelectorAll("[data-i18n]").forEach(e=>{const s=e.getAttribute("data-i18n"),o=this.getTranslation(s);o&&(e.tagName==="INPUT"&&e.type==="submit"?e.value=o:e.tagName==="INPUT"||e.tagName==="TEXTAREA"?e.placeholder=o:e.hasAttribute("content")?e.setAttribute("content",o):e.textContent=o)})}getTranslation(t){const e=t.split(".");let s=this.translations[this.currentLanguage];for(const o of e)if(s&&typeof s=="object")s=s[o];else break;if(!s&&this.currentLanguage!==this.fallbackLanguage){s=this.translations[this.fallbackLanguage];for(const o of e)if(s&&typeof s=="object")s=s[o];else break}return s||t}getCurrentLanguage(){return this.currentLanguage}}class m{constructor(){this.modal=null,this.form=null,this.successMessage=null,this.businessHours={monday:{open:"09:00",close:"19:00"},tuesday:{open:"09:00",close:"19:00"},wednesday:{open:"09:00",close:"19:00"},thursday:{open:"09:00",close:"19:00"},friday:{open:"09:00",close:"20:00"},saturday:{open:"08:00",close:"18:00"},sunday:{closed:!0}}}init(){this.modal=document.getElementById("bookingModal"),this.form=document.getElementById("bookingForm"),this.successMessage=document.getElementById("successMessage"),this.setupEventListeners(),this.setupDateRestrictions()}setupEventListeners(){const t=document.getElementById("closeModal"),e=document.getElementById("cancelBooking"),s=document.getElementById("closeSuccess");t?.addEventListener("click",()=>this.closeModal()),e?.addEventListener("click",()=>this.closeModal()),s?.addEventListener("click",()=>this.closeSuccessMessage()),this.modal?.addEventListener("click",i=>{i.target===this.modal&&this.closeModal()}),this.form?.addEventListener("submit",i=>this.handleFormSubmit(i)),document.getElementById("appointmentDate")?.addEventListener("change",()=>this.updateAvailableTimeSlots()),document.addEventListener("keydown",i=>{i.key==="Escape"&&(this.closeModal(),this.closeSuccessMessage())})}setupDateRestrictions(){const t=document.getElementById("appointmentDate");if(!t)return;const s=new Date().toISOString().split("T")[0];t.min=s;const o=new Date;o.setMonth(o.getMonth()+3),t.max=o.toISOString().split("T")[0]}openModal(){this.modal?.classList.add("active"),document.body.style.overflow="hidden",this.form?.querySelector("input")?.focus()}closeModal(){this.modal?.classList.remove("active"),document.body.style.overflow="",this.form?.reset()}closeSuccessMessage(){this.successMessage?.classList.remove("active"),document.body.style.overflow=""}updateAvailableTimeSlots(){const t=document.getElementById("appointmentDate"),e=document.getElementById("appointmentTime");if(!t||!e||!t.value)return;const o=new Date(t.value).toLocaleDateString("en-US",{weekday:"lowercase"});if(e.innerHTML='<option value="" data-i18n="booking.selectTime">Select a time</option>',e.innerHTML='<option value="" data-i18n="selectTime">Select a time</option>',this.businessHours[o]?.closed){const n=document.createElement("option");n.value="",n.textContent="Closed",n.disabled=!0,e.appendChild(n);return}const i=this.businessHours[o];i&&this.generateTimeSlots(i.open,i.close).forEach(l=>{const r=document.createElement("option");r.value=l,r.textContent=this.formatTime(l),e.appendChild(r)})}generateTimeSlots(t,e){const s=[],[o,i]=t.split(":").map(Number),[n,l]=e.split(":").map(Number);let r=o,a=i;for(;r<n||r===n&&a<l;){const d=`${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;s.push(d),a+=30,a>=60&&(a=0,r++)}return s}formatTime(t){const[e,s]=t.split(":").map(Number),o=e>=12?"PM":"AM";return`${e>12?e-12:e===0?12:e}:${s.toString().padStart(2,"0")} ${o}`}async handleFormSubmit(t){t.preventDefault();const e=new FormData(this.form),s={customerName:e.get("customerName"),customerEmail:e.get("customerEmail"),customerPhone:e.get("customerPhone"),service:e.get("service"),appointmentDate:e.get("appointmentDate"),appointmentTime:e.get("appointmentTime"),notes:e.get("notes")||"",createdAt:new Date().toISOString(),status:"pending"};try{const o=this.form.querySelector('button[type="submit"]'),i=o.textContent;o.textContent="Booking...",o.disabled=!0,await this.simulateBooking(s),this.closeModal(),this.showSuccessMessage(),this.form.reset()}catch(o){console.error("Booking error:",o),alert("There was an error booking your appointment. Please try again.")}finally{const o=this.form.querySelector('button[type="submit"]');o.textContent=originalText,o.disabled=!1}}async simulateBooking(t){await new Promise(s=>setTimeout(s,1500));const e=JSON.parse(localStorage.getItem("longevity-bookings")||"[]");e.push({...t,id:Date.now().toString()}),localStorage.setItem("longevity-bookings",JSON.stringify(e)),console.log("Booking created:",t)}showSuccessMessage(){this.successMessage?.classList.add("active"),document.body.style.overflow="hidden"}async saveToSupabase(t){}async sendConfirmationEmail(t){}async createCalendarEvent(t){}}class p{constructor(){this.services=[],this.currentLanguage="en"}async init(){await this.loadServices(),this.renderServices(),document.addEventListener("languageChanged",t=>{this.currentLanguage=t.detail.language,this.renderServices()})}async loadServices(){this.services=[{id:"haircut",name:{en:"Classic Haircut",es:"Corte Clásico"},description:{en:"Professional haircut with styling",es:"Corte profesional con peinado"},price:35,duration:45,category:"haircut"},{id:"beard-trim",name:{en:"Beard Trim & Shape",es:"Recorte y Forma de Barba"},description:{en:"Precision beard trimming and shaping",es:"Recorte y moldeado de barba de precisión"},price:25,duration:30,category:"beard"},{id:"hot-towel-shave",name:{en:"Hot Towel Shave",es:"Afeitado con Toalla Caliente"},description:{en:"Traditional hot towel shave experience",es:"Experiencia tradicional de afeitado con toalla caliente"},price:40,duration:45,category:"shave"},{id:"haircut-beard",name:{en:"Haircut + Beard Combo",es:"Combo Corte + Barba"},description:{en:"Complete grooming package",es:"Paquete completo de arreglo personal"},price:50,duration:75,category:"combo"},{id:"kids-cut",name:{en:"Kids Haircut",es:"Corte para Niños"},description:{en:"Haircut for children under 12",es:"Corte de cabello para niños menores de 12 años"},price:25,duration:30,category:"haircut"},{id:"senior-cut",name:{en:"Senior Haircut",es:"Corte para Adultos Mayores"},description:{en:"Haircut for seniors (65+)",es:"Corte de cabello para adultos mayores (65+)"},price:30,duration:45,category:"haircut"}]}renderServices(){const t=document.getElementById("servicesGrid"),e=document.getElementById("serviceSelect");if(!t)return;const s=document.documentElement.lang||"en";if(t.innerHTML="",this.services.forEach(o=>{const i=this.createServiceCard(o,s);t.appendChild(i)}),e){const o=e.querySelector('option[value=""]');e.innerHTML="",o&&e.appendChild(o),this.services.forEach(i=>{const n=document.createElement("option");n.value=i.id,n.textContent=`${i.name[s]} - $${i.price}`,e.appendChild(n)})}}createServiceCard(t,e){const s=document.createElement("div");s.className="service-card";const o="min";return s.innerHTML=`
            <h3>${t.name[e]}</h3>
            <div class="price">$${t.price}</div>
            <div class="duration">${t.duration} ${o}</div>
            <p>${t.description[e]}</p>
        `,s}getServiceById(t){return this.services.find(e=>e.id===t)}getServices(){return this.services}}class g{constructor(){this.i18n=new u,this.bookingSystem=new m,this.servicesManager=new p,this.init()}async init(){await this.i18n.init(),await this.servicesManager.init(),await this.servicesManager.init(),this.bookingSystem.init(),this.setupEventListeners(),this.setupSmoothScrolling(),this.setupNavbarScroll()}setupEventListeners(){}setupSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const s=document.querySelector(this.getAttribute("href"));if(s){const o=s.offsetTop-70;window.scrollTo({top:o,behavior:"smooth"})}})})}setupNavbarScroll(){const t=document.querySelector(".navbar");window.addEventListener("scroll",()=>{window.scrollY>100?t?.classList.add("scrolled"):t?.classList.remove("scrolled")})}}document.addEventListener("DOMContentLoaded",()=>{new g});
